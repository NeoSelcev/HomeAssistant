# Конфигурация для HA Watchdog и Responder
# /etc/ha-watchdog/config

# Сетевые проверки
HOST="8.8.8.8"                    # Хост для проверки интернета
IFACE="wlan0"                      # Основной сетевой интерфейс

# Пороговые значения
MEM_THRESHOLD_MB=80                # Минимум свободной памяти (МБ) - понижен с 100 для уменьшения ложных срабатываний
DISK_THRESHOLD_KB=500000           # Минимум свободного места (КБ)
TEMP_THRESHOLD=70                  # Максимальная температура CPU (°C)

# Docker контейнеры для мониторинга
HA_CONTAINER="homeassistant"
declare -a CONTAINERS=("homeassistant" "nodered")

# Порты сервисов
HA_PORT=8123                       # Home Assistant
NODERED_PORT=1880                  # Node-RED
SSH_PORT=22                        # SSH доступ

# Критичные systemd сервисы для мониторинга
declare -a CRITICAL_SERVICES=("docker" "home-stack" "tailscaled")

# Дополнительные настройки
MAX_LOG_SIZE_MB=100                # Максимальный размер лог файлов (МБ)

# Home Assistant база данных
HA_DB_PATH="/var/lib/docker/volumes/ha_config/_data/home-assistant_v2.db"  # Путь к БД HA в Docker
HA_DB_MAX_SIZE_MB=1000             # Максимальный размер БД HA (МБ)

# Система
SWAP_THRESHOLD_MB=800              # Максимальное использование swap (МБ) - увеличено для систем с малым объемом RAM

# Throttling настройки (для предотвращения спама)
THROTTLE_MINUTES=60                # Минимальный интервал между одинаковыми уведомлениями
