# Systemd Journal Configuration
# This file configures journald limits to prevent journal files from growing too large
# Place this content in /etc/systemd/journald.conf

[Journal]
# Limit total journal size to 500MB (currently 1.5GB!)
SystemMaxUse=500M

# Limit individual journal file size to 50MB
SystemMaxFileSize=50M

# Keep journal files for 30 days maximum
MaxRetentionSec=30d

# Keep at least 10 journal files
SystemMaxFiles=10

# Compress journal files older than 1 day
Compress=yes

# Forward logs to syslog for additional processing
ForwardToSyslog=no

# Store journals on disk (not just in memory)
Storage=persistent

# Sync journal to disk every 5 minutes or 1MB of data
SyncIntervalSec=5m

# Rate limiting: 10000 messages per 30 seconds per service
RateLimitIntervalSec=30s
RateLimitBurst=10000

# IMPORTANT: After changing this file, run:
# sudo systemctl restart systemd-journald
# sudo journalctl --vacuum-size=500M  # Clean up existing large journals
