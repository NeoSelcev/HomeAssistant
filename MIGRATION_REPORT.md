# üìã –û—Ç—á—ë—Ç –æ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–∑ AdGuard –≤ HomeAssistant

**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞**: 23 –æ–∫—Ç—è–±—Ä—è 2025  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å**: GitHub Copilot  
**–ò—Å—Ç–æ—á–Ω–∏–∫**: AdGuard –ø—Ä–æ–µ–∫—Ç (Raspberry Pi 3B+)  
**–¶–µ–ª—å**: HomeAssistant –ø—Ä–æ–µ–∫—Ç (Dell Wyse 3040)  
**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: SSH ag-vpn (—É–¥–∞–ª—ë–Ω–Ω–æ–µ)

---

## üéØ –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –≠–¢–ê–ü 0: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ò –¶–ï–ù–¢–†–ê–õ–ò–ó–û–í–ê–ù–ù–û–ï –õ–û–ì–ò–†–û–í–ê–ù–ò–ï ‚ö†Ô∏èüî¥

#### 0.1 –ò—Å–ø—Ä–∞–≤–∏—Ç—å logging-service.sh (–ö–†–ò–¢–ò–ß–ù–û)

- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å CONFIG_FILE ‚Üí LOGGING_CONFIG_FILE (—Å—Ç—Ä–æ–∫–∞ 8)
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: –°–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º (—Å—Ç—Ä–æ–∫–∏ 10-17)
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 3: –î–æ–±–∞–≤–∏—Ç—å wrapper-—Ñ—É–Ω–∫—Ü–∏–∏ (–≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞)
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 4: –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –¥–æ 1.1 (—Å—Ç—Ä–æ–∫–∞ 7)
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 5: –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –º–∞–ø–ø–∏–Ω–≥–∏ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤ (—Ñ—É–Ω–∫—Ü–∏—è get_log_file)

#### 0.2 –ò—Å–ø—Ä–∞–≤–∏—Ç—å ha-watchdog.sh (–ö–†–ò–¢–ò–ß–ù–û)

- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: –î–æ–±–∞–≤–∏—Ç—å SCRIPT_NAME="ha-watchdog" (–ø–æ—Å–ª–µ LOGGING_SERVICE)
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (~25 —Å—Ç—Ä–æ–∫)
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 3: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É wrapper-—Ñ—É–Ω–∫—Ü–∏–π
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 4: –î–æ–±–∞–≤–∏—Ç—å sudo –∫ fail2ban-client

#### 0.3 –£–ª—É—á—à–∏—Ç—å ha-failure-notifier.sh

- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: –£–ª—É—á—à–∏—Ç—å regex –¥–ª—è —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: –î–æ–±–∞–≤–∏—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä—É—á–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 3: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 4: –î–æ–±–∞–≤–∏—Ç—å batch summary (–ø—Ä–æ–ø—É—â–µ–Ω–æ - –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

#### 0.4 –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ telegram-sender.sh

- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1: –î–æ–±–∞–≤–∏—Ç—å SCRIPT_NAME
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å logging-service
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 3: –£–¥–∞–ª–∏—Ç—å custom log_message()
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ 4: –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –≤—ã–∑–æ–≤—ã log_message

#### 0.5 –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

- [x] 0.5.1 ha-backup.sh
- [x] 0.5.2 nightly-reboot.sh
- [x] 0.5.3 update-checker.sh
- [x] 0.5.4 system-diagnostic-startup.sh
- [x] 0.5.5 system-diagnostic.sh

#### 0.6 –ò—Å–ø—Ä–∞–≤–∏—Ç—å systemd timer –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–ö–†–ò–¢–ò–ß–ù–û)

- [x] 0.6.1 ha-backup.timer
- [x] 0.6.2 update-checker.timer
- [x] 0.6.3 system-diagnostic-startup.timer
- [x] 0.6.4 nightly-reboot.timer

#### 0.7 –î–æ–±–∞–≤–∏—Ç—å Boot Notification System üÜï

- [x] 0.7.1 –°–æ–∑–¥–∞—Ç—å boot-notifier.sh
- [x] 0.7.2 –°–æ–∑–¥–∞—Ç—å boot-notifier.service
- [x] 0.7.3 –°–æ–∑–¥–∞—Ç—å boot-notifier.timer
- [x] 0.7.4 –°–æ–∑–¥–∞—Ç—å boot-notifier.logrotate
- [x] 0.7.5 –û–±–Ω–æ–≤–∏—Ç—å nightly-reboot.sh

#### 0.8 –û–±–Ω–æ–≤–∏—Ç—å ag-monitoring-control.sh

- [x] –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É services/management/
- [x] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ha-monitoring-control.sh (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
- [x] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ha-monitoring-control.logrotate
- [x] –î–æ–±–∞–≤–∏—Ç—å boot-notifier.timer –≤ –º–∞—Å—Å–∏–≤ —Å–µ—Ä–≤–∏—Å–æ–≤
- [x] –î–æ–±–∞–≤–∏—Ç—å boot-notifier –≤ —Ñ—É–Ω–∫—Ü–∏—é logs

#### 0.9 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å permissions (–ö–†–ò–¢–ò–ß–ù–û)

- [ ] 0.9.1 –î–æ–±–∞–≤–∏—Ç—å ag –≤ docker group (—á–µ—Ä–µ–∑ SSH)
- [ ] 0.9.2 –°–æ–∑–¥–∞—Ç—å /etc/sudoers.d/ag-fail2ban (—á–µ—Ä–µ–∑ SSH)
- [ ] 0.9.3 –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã (—á–µ—Ä–µ–∑ SSH)

#### 0.10 –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

- [ ] –û–±–Ω–æ–≤–∏—Ç—å README.md (–¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é Centralized Logging)

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –°–í–û–î–ö–ê –≠–¢–ê–ü–ê 0

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ (—Ñ–∞–π–ª—ã):
- [x] 0.1 logging-service.sh - 5 –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [x] 0.2 ha-watchdog.sh - 4 –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [x] 0.3 ha-failure-notifier.sh - 3 –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [x] 0.4 telegram-sender.sh - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] 0.5 –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ - 5 —Å–µ—Ä–≤–∏—Å–æ–≤
- [x] 0.6 Systemd timers - 4 —Ñ–∞–π–ª–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- [x] 0.7 Boot Notification System - 4 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–∞ + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ nightly-reboot
- [x] 0.8 ha-monitoring-control - —Å–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ management, 2 —Ñ–∞–π–ª–∞

### üîÑ –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
- [ ] 0.9 Permissions setup (docker group, sudoers)
- [ ] 0.10 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README.md
- [ ] –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (chmod +x)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ systemd —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Ç–∞–π–º–µ—Ä–æ–≤
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–æ–≥—Ä–µ—Å—Å**: 8/10 –ø–æ–¥—ç—Ç–∞–ø–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–æ (80%)

---

## üìù –ó–∞–º–µ—Ç–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

### –û–±—â–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è:
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: SSH ag-vpn
- –í—Å–µ —Ñ–∞–π–ª—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–π –º–∞—à–∏–Ω–µ Dell Wyse 3040

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:
*(–ë—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)*

---

## ‚è±Ô∏è –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**23 –æ–∫—Ç—è–±—Ä—è 2025**
- 00:00 - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª –æ—Ç—á—ë—Ç–∞
- 00:00 - –ù–∞—á–∞–ª–æ –≠–¢–ê–ü–ê 0

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

*(–ë—É–¥—É—Ç –æ—Ç–º–µ—á–∞—Ç—å—Å—è –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)*

---

## ‚ùå –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

*(–ë—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º)*

---

**–°—Ç–∞—Ç—É—Å**: üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ  
**–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø**: –≠–¢–ê–ü 0 - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è  
**–ü—Ä–æ–≥—Ä–µ—Å—Å**: 0/10 –ø–æ–¥—ç—Ç–∞–ø–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
